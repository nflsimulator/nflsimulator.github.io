<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="ctestt.css">
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,800" rel="stylesheet">
        <div class="header"> 

            <div class="inner_header"> 
                <div class="logo_container">
                    <!-- <h1>NFL<span>SIM</span></h1> -->
                    <a href="index.html">
                        <img src="Logos/weblogo.png" alt="Logo" width="58" height="78">
                       </a>
                    
                </div>
                <ul class="navigation"> 
                    <a href="Computerpicks.html"><li>Computers Projections</li></a>
                    <a href="simulation.html"><li>Custom NFL Season Simulator</li></a>
                    <a href="Customgame.html"><li>Custom NFL Matchup Simulator</li></a>
                    
                    
                </ul>
            </div>
        </div>
        
        <h1 class="title">2022-2023 Custom NFL Matchup Simulator</h1>
        <title>Custom NFL Game Simulator</title>

        <div class="pick">
            
            <br>
            <br>
        
          <form>  
          <select name="Team 1" id="Team 1">
            <option disabled selected value> -- Select A Team -- </option>
            <option value="San Francisco 49ers">49ers</option>
            <option value="Chicago Bears">Bears</option>
            <option value="Cincinnati Bengals">Bengals</option>
            <option value="Buffalo Bills">Bills</option>
            <option value="Denver Broncos">Broncos</option>
            <option value="Cleveland Browns">Browns</option>
            <option value="Tampa Bay Buccaneers">Buccaneers</option>
            <option value="Arizona Cardinals">Cardinals</option>
            <option value="Los Angeles Chargers">Chargers</option>
            <option value="Kansas City Chiefs">Chiefs</option>
            <option value="Indianapolis Colts">Colts</option>
            <option value="Washington Commanders">Commanders</option>
            <option value="Dallas Cowboys">Cowboys</option>
            <option value="Miami Dolphins">Dolphins</option>
            <option value="Philadelphia Eagles">Eagles</option>
            <option value="Atlanta Falcons">Falcons</option>
            <option value="New York Giants">Giants</option>
            <option value="Jacksonville Jaguars">Jaguars</option>
            <option value="New York Jets">Jets</option>
            <option value="Detroit Lions">Lions</option>
            <option value="Green Bay Packers">Packers</option>
            <option value="Carolina Panthers">Panthers</option>
            <option value="New England Patriots">Patriots</option>
            <option value="Las Vegas Raiders">Raiders</option>
            <option value="Los Angeles Rams">Rams</option>
            <option value="Baltimore Ravens">Ravens</option>
            <option value="New Orleans Saints">Saints</option>
            <option value="Seattle Seahawks">Seahawks</option>
            <option value="Pittsburgh Steelers">Steelers</option>
            <option value="Houston Texans">Texans</option>
            <option value="Tennessee Titans">Titans</option>
            <option value="Minnesota Vikings">Vikings</option>
        </select>
        
        
           </form>
           
           <form>
            <select name="Year 1" id="Year 1">
            <option disabled selected value> -- Select The Year -- </option>
            <option value="y2012">2012-2013</option>
            <option value="y2013">2013-2014</option>
            <option value="y2014">2014-2015</option>
            <option value="y2015">2015-2016</option>
            <option value="y2016">2016-2017</option>
            <option value="y2017">2017-2018</option>
            <option value="y2018">2018-2019</option>
            <option value="y2019">2019-2020</option>
            <option value="y2020">2020-2021</option>
            <option value="y2021">2021-2022</option>




            </select>
           </form>
       </div>
       <br>
       <br>
       <br>
       
       <h1>VS</h1>
       <br>
       <br>
       <br>
       
       <div class="pick">
            
        
    
      <form>  
      <select name="Team 2" id="Team 2">
        <option disabled selected value> -- Select A Team -- </option>
        <option value="San Francisco 49ers">49ers</option>
        <option value="Chicago Bears">Bears</option>
        <option value="Cincinnati Bengals">Bengals</option>
        <option value="Buffalo Bills">Bills</option>
        <option value="Denver Broncos">Broncos</option>
        <option value="Cleveland Browns">Browns</option>
        <option value="Tampa Bay Buccaneers">Buccaneers</option>
        <option value="Arizona Cardinals">Cardinals</option>
        <option value="Los Angeles Chargers">Chargers</option>
        <option value="Kansas City Chiefs">Chiefs</option>
        <option value="Indianapolis Colts">Colts</option>
        <option value="Washington Commanders">Commanders</option>
        <option value="Dallas Cowboys">Cowboys</option>
        <option value="Miami Dolphins">Dolphins</option>
        <option value="Philadelphia Eagles">Eagles</option>
        <option value="Atlanta Falcons">Falcons</option>
        <option value="New York Giants">Giants</option>
        <option value="Jacksonville Jaguars">Jaguars</option>
        <option value="New York Jets">Jets</option>
        <option value="Detroit Lions">Lions</option>
        <option value="Green Bay Packers">Packers</option>
        <option value="Carolina Panthers">Panthers</option>
        <option value="New England Patriots">Patriots</option>
        <option value="Las Vegas Raiders">Raiders</option>
        <option value="Los Angeles Rams">Rams</option>
        <option value="Baltimore Ravens">Ravens</option>
        <option value="New Orleans Saints">Saints</option>
        <option value="Seattle Seahawks">Seahawks</option>
        <option value="Pittsburgh Steelers">Steelers</option>
        <option value="Houston Texans">Texans</option>
        <option value="Tennessee Titans">Titans</option>
        <option value="Minnesota Vikings">Vikings</option>
    </select>
    
    
       </form>
       
       <form>
        <select name="Year 2" id="Year 2">
        <option disabled selected value> -- Select The Year -- </option>
        <option value="y2012">2012-2013</option>
        <option value="y2013">2013-2014</option>
        <option value="y2014">2014-2015</option>
        <option value="y2015">2015-2016</option>
        <option value="y2016">2016-2017</option>
        <option value="y2017">2017-2018</option>
        <option value="y2018">2018-2019</option>
        <option value="y2019">2019-2020</option>
        <option value="y2020">2020-2021</option>
        <option value="y2021">2021-2022</option>




        </select>
       </form>
   </div>
   <br>
   <br>
   <br>
   <div id="Amount">
    <form>
        <select name="Amount" id="times">
        <option disabled selected value> -- Amount Of Simulations -- </option>
        <option value="1">1</option>
        <option value="5">5</option>
        <option value="10">10</option>
        <option value="100">100</option>
        <option value="1000">1,000</option>
        <option value="10000">10,000</option>




        </select>
       </form>
       </div>




   


   <br>
   <br>

   <a onClick="game()"class="btnn">Submit</a>
   <br>
   <br>
   <div id="finalscore"></div>
   <br>
   <br>
    <div id="Score"> 
        <div id="scoretitle"> 
            <h1>FINAL SCORE</h1>

        </div>
        <div id="Inside"> 
            <div id="left">

            </div>
            <div id="right">

            </div>


        </div>




    </div>






        <script>
            function game() {
                
                const Team1 = document.getElementById("Team 1").value;
                const Year1 = document.getElementById("Year 1").value;
                const Team2 = document.getElementById("Team 2").value;
                const Year2 = document.getElementById("Year 2").value;
                
                let finalscore=0;
                let finalscore2=0;
        
                
        function readTextFile(file, callback) {
            var rawFile = new XMLHttpRequest();
            rawFile.overrideMimeType("application/json");
            rawFile.open("GET", file, true);
            rawFile.onreadystatechange = function() {
                if (rawFile.readyState === 4 && rawFile.status == "200") {
                    callback(rawFile.responseText);
                }
            }
            rawFile.send(null);
        }
        
        
        
        
        
       
        let data;
        //usage:
        readTextFile("matchup.json", function(text)  {
        data = JSON.parse(text);
        
        
        let totalscore=0;
        var print=true;
        var print2=true;
        let times=document.getElementById("times").value;
       // console.log(data[Year1][0].name);
       for(var t=0; t<times; t++) {
        
        let oneoffense=0;
        let onedefense=0;
        let twooffense=0;
        let twodefense=0;
        let teamonescore=0;
        let teamtwoscore=0;
        for(var i=0; i<data[Year1].length;i++) {
            if(data[Year1][i].name==Team1) {
                oneoffense=parseFloat(data[Year1][i].offense);
                onedefense=parseFloat(data[Year1][i].defense);
                
            }
        }

        for(var i=0; i<data[Year2].length;i++) {
            if(data[Year2][i].name==Team2) {
                twooffense=parseFloat(data[Year2][i].offense);
                twodefense=parseFloat(data[Year2][i].defense);
                
            }
        }
        //console.log("team 1: "+oneoffense+" "+onedefense);
       // console.log("team 2 "+twooffense+" "+twodefense);
        
        if(print==true) {
            //console.log("Projected Score: "+parseFloat(oneoffense+23.5-twodefense));
            print=false;
        }
       
        let oneexpected=23.5+oneoffense-twodefense;
        
        
        let totalodds=oneexpected*4.5;
        let scoring=true;
        let whatscore;
        let random;
        let scoreagain;
        
        while(scoring==true) {
         random=Math.ceil(Math.random()*100);
         whatscore=Math.random() * 100;
         if(teamonescore>12+oneexpected) {
            scoreagain=(teamonescore*4/totalodds)*100;

         }
         else if(teamonescore>oneexpected) {
            scoreagain=(teamonescore*1.5/totalodds)*100;
         }
         else if(teamonescore+18<=oneexpected) {
            scoreagain=(teamonescore*.5/totalodds)*100;
         }
         else if(oneexpected<=21) {
            scoreagain=(teamonescore*1.5/totalodds)*100;
         }
         else if(oneexpected<=22) {
            scoreagain=(teamonescore*1.4/totalodds)*100;
         }
         else if(oneexpected<=29) {
            scoreagain=(teamonescore*1.15/totalodds)*100;
         }
         
         
         else {
         scoreagain=(teamonescore/totalodds)*100;
         }
        //console.log("random: "+random+ " scoreagain: "+scoreagain);
        if(random<=scoreagain) {
            
            scoring=false;
        }

         //console.log("whatscore: "+whatscore);
         let touchodds=61.443786;
         if(oneexpected>=18) {
            touchodds=30;
         }
         if(oneexpected<=21) {
            touchodds=38;
         }
         if(oneexpected<=25) {
            touchodds=42;
         }
         else if(oneexpected<=28) {
            touchodds=50;
         }
         else if(oneexpected<=32.4) {
            touchodds=55;
         }
         else if(oneexpected>=32.5) {
            touchodds=73;
         }
         if(scoring==true) {
        if(whatscore<touchodds) {
            //console.log("TOUCHDOWN");
            teamonescore+=7;
        }
        else {
            //console.log("FIELD GOAL");
            teamonescore+=3;
        }
    }
       
    }
    //console.log(teamonescore);
    
    finalscore+=teamonescore;
    //console.log("final score" +finalscore/times);


        //console.log(data.y2012[1].name);
        //23.5 average


        //team two 
        
        if(print2==true) {
            //console.log("Projected Score 2: "+parseFloat(twooffense+23.5-onedefense));
            print2=false;
        }
       
        let twoexpected=23.5+twooffense-onedefense;
        
        
         totalodds=twoexpected*4.5;
         scoring=true;
         whatscore;
         random;
        scoreagain;
        
        while(scoring==true) {
         random=Math.ceil(Math.random()*100);
         whatscore=Math.random() * 100;
         if(teamtwoscore>12+twoexpected) {
            scoreagain=(teamtwoscore*4/totalodds)*100;

         }
         else if(teamtwoscore>twoexpected) {
            scoreagain=(teamtwoscore*1.5/totalodds)*100;
         }
         else if(teamtwoscore+18<=twoexpected) {
            scoreagain=(teamtwoscore*.5/totalodds)*100;
         }
         else if(twoexpected<=21) {
            scoreagain=(teamtwoscore*1.5/totalodds)*100;
         }
         else if(twoexpected<=22) {
            scoreagain=(teamtwoscore*1.4/totalodds)*100;
         }
         else if(twoexpected<=29) {
            scoreagain=(teamtwoscore*1.15/totalodds)*100;
         }
         
         
         else {
         scoreagain=(teamtwoscore/totalodds)*100;
         }
        //console.log("random: "+random+ " scoreagain: "+scoreagain);
        if(random<=scoreagain) {
            
            scoring=false;
        }

         //console.log("whatscore: "+whatscore);
         let touchodds=61.443786;
         if(twoexpected>=18) {
            touchodds=30;
         }
         if(twoexpected<=21) {
            touchodds=38;
         }
         if(twoexpected<=25) {
            touchodds=42;
         }
         else if(twoexpected<=28) {
            touchodds=50;
         }
         else if(twoexpected<=32.4) {
            touchodds=55;
         }
         else if(twoexpected>=32.5) {
            touchodds=73;
         }
         if(scoring==true) {
        if(whatscore<touchodds) {
            //console.log("TOUCHDOWN");
            teamtwoscore+=7;
        }
        else {
            //console.log("FIELD GOAL");
            teamtwoscore+=3;
        }
    }
       
    }
    //console.log(teamonescore);
    
    finalscore2+=teamtwoscore;






       




       //team two



       }
       let onefinal=Math.round(finalscore/times);
       let twofinal=Math.round(finalscore2/times);
       if(onefinal==twofinal) {
        if(finalscore>finalscore2) {
            onefinal++;
        }
        else {
            twofinal++;
        }
       }
      // console.log("Projected final score: " +(finalscore/times));
       //console.log("Projected final score: " +(finalscore2/times));
       var lscore="";
       var rscore="";

       lscore+=Team1+" "+onefinal;
       rscore+=Team2+" "+twofinal;

      
       var image='Logos/Seahawks.png';
       if(onefinal>twofinal) {
        document.getElementById("left").innerHTML=lscore.bold();
        document.getElementById("right").innerHTML=rscore;
       }
       else if(twofinal>onefinal) {
       document.getElementById("left").innerHTML=lscore;
       document.getElementById("right").innerHTML=rscore.bold();
       }
       
       




       
       
    });

}

            

    
        </script>

    </head>

</html>